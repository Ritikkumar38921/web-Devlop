<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    h1{
      text-align: center;
      font-size: 30px;
      text-transform:capitalize;
      padding:10px;
      border:2px solid red;
      background-color: blueviolet;
      color:white;
    }
    input[type="text"]{
      position: relative;
      left:40vw;
      font-size: 40px;
      border:10px solid red;
    }
    ul li{
      font-size: 20px;
      font-family:Verdana, Geneva, Tahoma, sans-serif;
      position: relative;
      left:35vw;
      background-color: rgb(31, 31, 14);
      color: white;
    }
  </style>
</head>
<body>
    <h1 style="font-size: 30px;">About Regular Expression</h1>
    <form id="form1">
        <input type="text" placeholder="Write Here" class="textarea">
        <!-- <input type="submit" value="Search" id="go"> -->
        <ul class="suggestion">
          <li>hello ritik</li>
          <!-- <li></li> -->
        </ul>
        
   
      </form>
      
    <script>
     const text = document.querySelector(".textarea");
     const suggestion = document.querySelector(".suggestion");
     const source = "https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json";
     let arr = [];
     fetch(source)
     .then(response => response.json())
     .then(data => arr.push(...data));
    console.log(arr);
     function findMatches(string,arr){
       const reg = new RegExp(string,"gi");     
       let k =  arr.filter(obj => {
        return obj.city.match(reg)||obj.state.match(reg);
       });
       return k;   
      //  console.log(k);
     }
      function displaymethod(){
        const temp = findMatches(this.value,arr);
        // console.log(temp[0].city);
        // console.log(temp[0].state);
        // console.log(temp[0].population);
        let list = temp.map(item => {
           return `<li>
            <span>${item.city},</span>
            <span>${item.state} </span>&nbsp;&nbsp;
            <span>${item.population}</span>
            </li>
            `;
        }).join("");
        

        suggestion.innerHTML = list;

        // let ref = document.querySelector(".suggestion li");
        // console.log(ref.value);

      }
    
     text.addEventListener("keyup",displaymethod);
    text.addEventListener("keyup",colorSelected);
    //  findMatches("New York",arr);
    </script>
</body>
</html>